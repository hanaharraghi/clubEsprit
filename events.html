<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - Clubs ESPRIT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
</head>
<body class="bg-[#F6F6F6] min-h-screen">
    <!-- Navigation -->
    <nav class="bg-[#6F1425] text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <img width="110" height="110" alt="club" src="https://github.com/user-attachments/assets/47f7c030-9816-4006-8c63-5d774c744a74" class="w-20 sm:w-24 md:w-28" />
                </div>
               
                <!-- Desktop Navigation -->
                <div class="hidden md:flex space-x-8 lg:space-x-20 text-base lg:text-xl">
                    <a href="home.html" class="transition-colors hover:text-[#FAE49E]">Home</a>
                    <a href="clubs.html" class="transition-colors hover:text-[#FAE49E]">Clubs</a>
                    <a href="events.html" class="transition-colors hover:text-[#FAE49E]">Events</a>
                    <a href="calender.html" class="transition-colors hover:text-[#FAE49E]">Calendar</a>
                    <a href="competition.html" class="text-[#FAE49E] font-semibold">Competition</a>
                    <a href="myClubs.html" class="transition-colors hover:text-[#FAE49E]">My Clubs</a>
                </div>

                <!-- Mobile Menu Button & User Icon -->
                <div class="flex items-center space-x-4">
                    <button class="text-white">
                        <a href="profile.html" class="fas fa-user-circle text-2xl"></a>
                    </button>
                    <!-- Hamburger button -->
                    <button id="openMenu" class="md:hidden text-white w-9 h-9 rounded-full border border-white/60 flex items-center justify-center">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- ========== MOBILE MENU (SLIDE RIGHT) ========== -->
    <div id="mobileBackdrop" class="fixed inset-0 bg-black/40 z-40 hidden"></div>

    <div id="mobileMenu" class="fixed right-0 top-0 h-full w-64 bg-[#6F1425] text-white shadow-xl transform translate-x-full transition-transform duration-200 ease-out flex flex-col z-50">
        <div class="flex items-center justify-between px-4 py-3 border-b border-white/20">
            <div class="flex items-center gap-2">
                <img width="40" height="40" alt="club" src="https://github.com/user-attachments/assets/47f7c030-9816-4006-8c63-5d774c744a74" class="w-9 h-9 rounded" />
                <span class="font-semibold text-sm">CLUBS ESPRIT</span>
            </div>
            <button id="closeMenu" class="w-8 h-8 flex items-center justify-center rounded-full bg-white/10">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <nav class="flex-1 px-4 py-4 text-sm space-y-3">
            <a class="block py-2 border-b border-white/10 hover:text-[#FAE49E]" href="home.html">Home</a>
            <a class="block py-2 border-b border-white/10 hover:text-[#FAE49E]" href="clubs.html">Clubs</a>
            <a class="block py-2 border-b border-white/10 hover:text-[#FAE49E]" href="events.html">Events</a>
            <a class="block py-2 border-b border-white/10 hover:text-[#FAE49E]" href="calender.html">Calendar</a>
            <a class="block py-2 border-b border-white/10 text-[#FAE49E]" href="competition.html">Competition</a>
            <a class="block py-2 border-b border-white/10 hover:text-[#FAE49E]" href="myClubs.html">My Clubs</a>
        </nav>
    </div>

    <!-- Chat Widget -->
    <div class="fixed bottom-6 right-6 z-50">
        <!-- Chat Button -->
        <button class="w-14 h-14 bg-[#6F1425] text-white rounded-full shadow-lg flex items-center justify-center hover:bg-[#8c1930] transition-all hover:scale-105" id="chatButton">
            üí¨
        </button>

        <!-- Chat Popup -->
        <div class="hidden w-80 h-[520px] bg-white rounded-2xl shadow-xl overflow-hidden" id="chatPopup">
            <!-- Header -->
            <div class="bg-gradient-to-r from-purple-500 to-pink-500 px-4 py-4 text-white flex items-center justify-between">
                <span class="font-medium">Club Chats</span>
                <button onclick="closeChat()" class="text-white text-xl">
                    ‚úï
                </button>
            </div>

            <!-- Club List -->
            <div class="p-4 h-[440px] overflow-y-auto" id="clubList">
                <!-- Clubs will be inserted here by JavaScript -->
            </div>

            <!-- Conversation View -->
            <div class="hidden h-[520px] flex flex-col" id="conversationView">
                <!-- Conversation header -->
                <div class="flex items-center gap-3 px-3 py-3 border-b border-gray-200">
                    <button class="text-gray-700 text-xl" onclick="backToClubs()">‚Üê</button>
                    <img id="conversationAvatar" src="" alt="" class="w-8 h-8 rounded-full object-cover">
                    <span id="conversationName" class="font-medium"></span>
                </div>

                <!-- Messages -->
                <div class="flex-1 p-4 overflow-y-auto space-y-4" id="messagesContainer">
                    <!-- Messages will be inserted here by JavaScript -->
                </div>

                <!-- Input Area -->
                <div class="p-3 border-t border-gray-200 flex items-center gap-2">
                    <input type="text" class="flex-1 px-4 py-2.5 bg-gray-50 border-none rounded-full text-sm outline-none" id="chatInput" placeholder="Type a message‚Ä¶">
                    <button class="w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors" onclick="sendMessage()">
                        ‚û§
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Overlay -->
    <div class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-5 z-50" id="joinEventModal">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-xl" style="animation: modalSlideIn 0.3s ease-out;">
            <div class="p-6">
                <!-- Modal Header -->
                <div class="flex justify-between items-center mb-2">
                    <div>
                        <h2 class="text-xl font-bold text-gray-900">Registration Form</h2>
                        <p class="text-sm text-gray-600 mt-1">Fill in your information to join</p>
                    </div>
                    <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-xl p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Form -->
                <form id="eventForm" class="space-y-4 mt-6">
                    <!-- Full Name -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
                        <input type="text"
                               name="fullName"
                               required
                               class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#6F1425] focus:border-transparent"
                               placeholder="Enter your full name">
                    </div>
                   
                    <!-- Email -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                        <input type="email"
                               name="email"
                               required
                               class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#6F1425] focus:border-transparent"
                               placeholder="your.email@example.com">
                    </div>
                   
                    <!-- Phone Number -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                        <input type="tel"
                               name="phone"
                               class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#6F1425] focus:border-transparent"
                               placeholder="+216 XX XXX XXX">
                    </div>
                   
                    <!-- Organization -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Organization</label>
                        <input type="text"
                               name="organization"
                               class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#6F1425] focus:border-transparent"
                               placeholder="Your company or school">
                    </div>
                   
                    <!-- Why join? -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Why join?</label>
                        <textarea
                            name="reason"
                            class="w-full border border-gray-300 rounded-lg px-4 py-3 min-h-[100px] focus:outline-none focus:ring-2 focus:ring-[#6F1425] focus:border-transparent"
                            placeholder="Tell us about your interest..."></textarea>
                    </div>
                   
                    <!-- Event Selection (hidden) -->
                    <input type="hidden" id="eventNameInput" name="eventName">
                   
                    <!-- Checkbox -->
                    <div class="pt-2">
                        <div class="flex items-center gap-2">
                            <input type="checkbox"
                                   id="updates"
                                   name="updates"
                                   class="w-4 h-4 border border-gray-300 rounded"
                                   checked>
                            <label for="updates" class="text-sm text-gray-700">
                                I agree to receive event updates
                            </label>
                        </div>
                    </div>
                   
                    <!-- Form Buttons -->
                    <div class="flex gap-3 pt-4">
                        <button type="button"
                                onclick="closeModal()"
                                class="flex-1 border border-gray-300 text-gray-700 font-medium py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors">
                            Cancel
                        </button>
                        <button type="submit"
                                class="flex-1 bg-[#6F1425] text-white font-medium py-3 px-4 rounded-lg hover:bg-[#5a0f1e] transition-colors">
                            Submit
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Live Stream Modal -->
    <div class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-5 z-50" id="liveStreamModal">
        <div class="bg-black text-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl">
            <div class="p-0">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-4 border-b border-gray-800">
                    <div class="flex items-center gap-3">
                        <span class="bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-2 live-badge">
                            <i class="fas fa-video"></i> LIVE
                        </span>
                        <div>
                            <h2 class="text-xl font-bold text-white">Basketball Tournament Live Stream</h2>
                            <p class="text-sm text-gray-400">Oct 28, 2025 - Stadium</p>
                        </div>
                    </div>
                    <button onclick="closeLiveStream()" class="text-gray-400 hover:text-white text-xl p-2 rounded-full hover:bg-gray-800">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Live Stream Content -->
                <div class="p-4 space-y-4">
                    <!-- Video Player -->
                    <div class="relative bg-gray-900 rounded-xl overflow-hidden aspect-video">
                        <!-- Live Video -->
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-900 via-purple-900 to-red-900 flex items-center justify-center">
                            <div class="text-center">
                                <i class="fas fa-basketball-ball text-white text-6xl mb-4"></i>
                                <div class="text-white text-lg font-semibold mb-2">LIVE STREAM</div>
                                <div class="text-gray-300">Basketball Tournament - Quarter 3</div>
                            </div>
                        </div>
                       
                        <!-- Live Badge -->
                        <div class="absolute top-4 left-4">
                            <span class="bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-2">
                                <i class="fas fa-circle animate-pulse"></i> LIVE
                            </span>
                        </div>
                       
                        <!-- Viewers Count -->
                        <div class="absolute top-4 right-4 flex items-center gap-2 text-white bg-black/50 px-3 py-1 rounded-full">
                            <i class="fas fa-eye"></i>
                            <span>20,199 viewers</span>
                        </div>
                       
                        <!-- Game Info -->
                        <div class="absolute bottom-4 left-4 right-4">
                            <div class="bg-black/70 backdrop-blur-sm rounded-xl p-4">
                                <div class="text-center mb-2">
                                    <div class="text-gray-400 text-sm">Quarter 3 - 12:45</div>
                                    <div class="text-white text-lg font-bold">Basketball Tournament</div>
                                    <div class="text-gray-300 text-sm">Sports Club</div>
                                </div>
                               
                                <!-- Score Board -->
                                <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-5 shadow-lg">
                                    <div class="flex items-center justify-between">
                                        <!-- Home Team -->
                                        <div class="text-center">
                                            <div class="text-gray-400 text-sm">HOME</div>
                                            <div class="text-white text-5xl font-extrabold">78</div>
                                            <div class="text-gray-400 text-sm mt-1">ANNY</div>
                                        </div>
                                       
                                        <!-- VS -->
                                        <div class="text-center mx-4">
                                            <div class="text-gray-400 text-sm">VS</div>
                                            <div class="bg-white/10 px-4 py-2 rounded-full text-sm mt-2">Q3</div>
                                        </div>
                                       
                                        <!-- Away Team -->
                                        <div class="text-center">
                                            <div class="text-gray-400 text-sm">AWAY</div>
                                            <div class="text-white text-5xl font-extrabold">72</div>
                                            <div class="text-gray-400 text-sm mt-1">TEAM</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Chat -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                        <!-- Chat Messages -->
                        <div class="lg:col-span-2 space-y-3">
                            <h3 class="text-lg font-bold text-white">Live Chat</h3>
                            <div class="space-y-2 max-h-60 overflow-y-auto">
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Sarah:</strong> What a play! üèÄ
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Mike:</strong> Let's go team!
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Emma:</strong> Amazing game! üî•
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Alex:</strong> This is incredible! üéØ
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">John:</strong> That three-pointer was insane! üí•
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Lisa:</strong> Defense is on point today! üõ°Ô∏è
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Tom:</strong> MVP performance right here! üëë
                                </div>
                                <div class="bg-white/10 backdrop-blur-sm p-3 rounded-xl">
                                    <strong class="text-yellow-300">Sophia:</strong> Can't believe this game! ü§Ø
                                </div>
                            </div>
                           
                            <!-- Chat Input -->
                            <div class="flex gap-2">
                                <input type="text"
                                       id="liveChatInput"
                                       placeholder="Type your message..."
                                       class="flex-1 bg-gray-800 text-white border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500">
                                <button onclick="sendLiveChatMessage()"
                                        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                                    Send
                                </button>
                            </div>
                        </div>
                       
                        <!-- Live Stats -->
                        <div class="space-y-4">
                            <h3 class="text-lg font-bold text-white">Live Stats</h3>
                            <div class="bg-gray-900 rounded-xl p-4">
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">Field Goals</span>
                                        <span class="text-white font-semibold">54%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">3 Pointers</span>
                                        <span class="text-white font-semibold">42%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">Free Throws</span>
                                        <span class="text-white font-semibold">78%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">Rebounds</span>
                                        <span class="text-white font-semibold">32</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">Assists</span>
                                        <span class="text-white font-semibold">18</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">Steals</span>
                                        <span class="text-white font-semibold">7</span>
                                    </div>
                                </div>
                            </div>
                           
                            <!-- Action Buttons -->
                            <div class="flex gap-2">
                                <button class="flex-1 bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors">
                                    <i class="far fa-heart"></i> Like
                                </button>
                                <button class="flex-1 bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors">
                                    <i class="far fa-share-square"></i> Share
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8">
            <!-- Left Column - Events List -->
            <div class="lg:col-span-2 space-y-4 sm:space-y-6">
                <!-- Events this week Section -->
                <div class="bg-[#F6F6F6] rounded-2xl p-4 sm:p-6">
                    <div class="mb-4 sm:mb-6">
                        <h2 class="text-2xl sm:text-3xl font-bold text-black mb-4">Events this week</h2>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-calendar-check text-[#6F1425] text-lg"></i>
                            <span class="text-black font-semibold text-sm sm:text-base">Events Available</span>
                        </div>
                    </div>

                    <!-- AI Workshop Event -->
                    <div class="bg-white rounded-xl p-4 sm:p-5 mb-4">
                        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3 space-y-2 sm:space-y-0">
                            <div class="flex-1">
                                <h3 class="text-lg sm:text-xl font-bold text-black mb-1">AI Workshop</h3>
                                <p class="text-gray-600 text-sm mb-2">Robotics Club</p>
                                <div class="flex items-center text-gray-500 text-xs sm:text-sm">
                                    <i class="far fa-clock mr-2"></i>
                                    <span>Today 2:00 PM - 4:00 PM</span>
                                </div>
                            </div>
                            <span class="bg-[#FAE49E] text-black px-3 py-1 rounded-full text-xs font-bold self-start">Upcoming</span>
                        </div>
                        <button onclick="openModal('AI Workshop', this)"
                                class="bg-[#6F1425] hover:bg-[#5a0f1e] text-white w-full rounded-lg font-semibold flex items-center justify-center py-2 transition-colors min-h-[33px]">
                            Join event
                        </button>
                    </div>

                    <!-- Debate Practice Event -->
                    <div class="bg-white rounded-xl p-4 sm:p-5">
                        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3 space-y-2 sm:space-y-0">
                            <div class="flex-1">
                                <h3 class="text-lg sm:text-xl font-bold text-black mb-1">Debate Practice</h3>
                                <p class="text-gray-600 text-sm mb-2">Debate Club</p>
                                <div class="flex items-center text-gray-500 text-xs sm:text-sm">
                                    <i class="far fa-clock mr-2"></i>
                                    <span>Today 3:00 PM - 6:00 PM</span>
                                </div>
                            </div>
                            <span class="bg-[#FAE49E] text-black px-3 py-1 rounded-full text-xs font-bold self-start">Upcoming</span>
                        </div>
                        <button onclick="openModal('Debate Practice', this)"
                                class="bg-[#6F1425] hover:bg-[#5a0f1e] text-white w-full rounded-lg font-semibold flex items-center justify-center py-2 transition-colors min-h-[33px]">
                            Join event
                        </button>
                    </div>
                </div>

                <!-- All Events Section -->
                <div class="bg-[#F6F6F6] rounded-2xl p-4 sm:p-6">
                    <h2 class="text-2xl sm:text-3xl font-bold text-black mb-4 sm:mb-6">All Events</h2>

                    <!-- Filters -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6">
                        <!-- Date Filter -->
                        <select id="dateFilter" class="w-full h-10 px-3 border border-gray-300 rounded-lg bg-white text-sm cursor-pointer" onchange="filterEvents()">
                            <option value="all">All Dates</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                        </select>
                       
                        <!-- Theme Filter -->
                        <select id="themeFilter" class="w-full h-10 px-3 border border-gray-300 rounded-lg bg-white text-sm cursor-pointer" onchange="filterEvents()">
                            <option value="all">All Themes</option>
                            <option value="technology">Technology</option>
                            <option value="sports">Sports</option>
                            <option value="arts">Arts</option>
                        </select>
                       
                        <!-- Status Filter -->
                        <select id="statusFilter" class="w-full h-10 px-3 border border-gray-300 rounded-lg bg-white text-sm cursor-pointer sm:col-span-2 md:col-span-1" onchange="filterEvents()">
                            <option value="all">All Status</option>
                            <option value="upcoming">Upcoming</option>
                            <option value="live">Live</option>
                        </select>
                    </div>
                    
                    <!-- Event Cards -->
                    <div id="eventsContainer" class="space-y-4">
                        <!-- Les √©v√©nements seront rendus dynamiquement ici -->
                    </div>
                </div>
            </div>

            <!-- Right Column - Live Events & Comments -->
            <div class="space-y-4 sm:space-y-6">
                <!-- Available Now Section -->
                <div class="bg-[#F6F6F6] rounded-2xl p-4 sm:p-6">
                    <div class="mb-4 sm:mb-6">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-bell text-[#6F1425] text-lg"></i>
                            <h2 class="text-lg sm:text-xl font-bold text-black">Available Now</h2>
                        </div>
                    </div>

                    <!-- Top 11 AI Workshop 2025 -->
                    <div class="mb-4">
                        <div class="relative mb-3">
                            <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=600&h=400&fit=crop"
                                 alt="AI Workshop"
                                 class="w-full h-48 sm:h-52 object-cover rounded-2xl">
                            <div class="absolute top-3 left-3 bg-white/95 backdrop-blur-sm px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                <i class="fas fa-video text-red-600 text-xs"></i>
                                <span class="text-xs font-bold text-black">LIVE</span>
                            </div>
                        </div>
                        <button onclick="openLiveStream(this)"
                                class="bg-red-600 hover:bg-red-700 text-white w-full rounded-lg font-bold flex items-center justify-center space-x-2 py-2 transition-colors min-h-[33px]">
                            <span>Join Live</span>
                        </button>
                    </div>

                    <!-- Coding Bootcamps -->
                    <div>
                        <div class="relative mb-3">
                            <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=600&h=400&fit=crop"
                                 alt="Coding Bootcamp"
                                 class="w-full h-48 sm:h-52 object-cover rounded-2xl">
                            <div class="absolute top-3 left-3 bg-white/95 backdrop-blur-sm px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                <i class="fas fa-video text-red-600 text-xs"></i>
                                <span class="text-xs font-bold text-black">LIVE</span>
                            </div>
                        </div>
                        <button onclick="openLiveStream(this)"
                                class="bg-red-600 hover:bg-red-700 text-white w-full rounded-lg font-bold flex items-center justify-center space-x-2 py-2 transition-colors min-h-[33px]">
                            <span>Join Live</span>
                        </button>
                    </div>
                </div>

                <!-- Community Comments Section -->
                <div class="bg-[#F6F6F6] rounded-2xl p-4 sm:p-6">
                    <div class="flex items-center space-x-2 mb-4 sm:mb-5">
                        <i class="fas fa-comments text-[#6F1425] text-lg"></i>
                        <h3 class="font-bold text-lg sm:text-xl text-black">Community Comments</h3>
                    </div>

                    <!-- Comment Input -->
                    <textarea
                        id="commentInput"
                        class="w-full border border-gray-300 rounded-lg p-3 mb-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-[#6F1425] bg-white"
                        rows="3"
                        placeholder="Share your thoughts ..."></textarea>
                    <button onclick="addComment()"
                            class="bg-[#6C6C6C] hover:bg-[#5a5a5a] text-white w-full rounded-lg font-semibold flex items-center justify-center mb-4 py-2 transition-colors text-sm">
                        Send Comment
                    </button>

                    <!-- Comments List -->
                    <div id="commentsContainer" class="space-y-0">
                        <!-- Comment 1 -->
                        <div class="border-b border-gray-200 py-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-sm">Ben Amar Arwa</h4>
                                <span class="text-xs text-gray-400">2hours ago</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Really excited for the Tech Summit!</p>
                            <div class="flex items-center gap-4 text-xs text-gray-500">
                                <button class="flex items-center gap-1" onclick="likeComment(this)">
                                    <i class="far fa-heart"></i> Like
                                </button>
                                <button>Answer</button>
                            </div>
                        </div>
                       
                        <!-- Comment 2 -->
                        <div class="border-b border-gray-200 py-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-sm">Ben Taleb Ilef</h4>
                                <span class="text-xs text-gray-400">1min ago</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Who's going to the basketball tournament?</p>
                            <div class="flex items-center gap-4 text-xs text-gray-500">
                                <button class="flex items-center gap-1" onclick="likeComment(this)">
                                    <i class="far fa-heart"></i> Like
                                </button>
                                <button>Answer</button>
                            </div>
                        </div>
                       
                        <!-- Comment 3 -->
                        <div class="border-b border-gray-200 py-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-sm">Azzouz Mariem</h4>
                                <span class="text-xs text-gray-400">2hours ago</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">The art exhibition looks amazing!</p>
                            <div class="flex items-center gap-4 text-xs text-gray-500">
                                <button class="flex items-center gap-1" onclick="likeComment(this)">
                                    <i class="far fa-heart"></i> Like
                                </button>
                                <button>Answer</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-[#6F1425] text-white mt-8 sm:mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 mb-6 sm:mb-8">
                <!-- Logo and Description -->
                <div class="col-span-2 md:col-span-1">
                    <div class="flex items-center space-x-3 mb-4">
                        <img width="200" height="200" alt="club" src="https://github.com/user-attachments/assets/47f7c030-9816-4006-8c63-5d774c744a74" class="w-32 sm:w-40" />
                    </div>
                    <p class="text-xs sm:text-sm text-gray-300 leading-relaxed">
                        Connecting students with amazing clubs and communities at ESPRIT University.
                    </p>
                </div>

                <!-- About Section -->
                <div>
                    <h3 class="font-bold text-base sm:text-lg mb-3 sm:mb-4">About</h3>
                    <ul class="space-y-2 text-xs sm:text-sm">
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Our Story</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Team</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Careers</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Press</a></li>
                    </ul>
                </div>

                <!-- Contact Section -->
                <div>
                    <h3 class="font-bold text-base sm:text-lg mb-3 sm:mb-4">Contact</h3>
                    <ul class="space-y-2 text-xs sm:text-sm">
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Support</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Feedback</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Partnerships</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Media</a></li>
                    </ul>
                </div>

                <!-- Legal Section -->
                <div>
                    <h3 class="font-bold text-base sm:text-lg mb-3 sm:mb-4">Legal</h3>
                    <ul class="space-y-2 text-xs sm:text-sm">
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Terms of Service</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Cookie Policy</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Guidelines</a></li>
                    </ul>
                </div>
            </div>

            <!-- Copyright -->
            <div class="border-t border-gray-600 pt-4 sm:pt-6">
                <p class="text-xs sm:text-sm text-gray-300 text-center">
                    ¬© 2025 Clubs ESPRIT. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Clubs Data -->
    <script>
        const clubs = [
            {
                id: 1,
                name: "Tech Innovators",
                icon : "https://media.istockphoto.com/id/1352367851/vector/dx-vector-icon-illustration.jpg?s=612x612&w=0&k=20&c=_m2prNR3aJFKZ-AH5kVKMr9RGmBnKoWU6J-ExRMBaC0=",
                notif: 2,
                lastMsg: "Meeting tomorrow at 3 PM!",
                messages: [
                    { from: "them", text: "Welcome to Tech Innovators!", time: "10:30 AM" },
                    { from: "me", text: "Thanks! Excited to join!", time: "10:32 AM" },
                    { from: "them", text: "Meeting tomorrow at 3 PM!", time: "11:15 AM" }
                ]
            },
            {
                id: 2,
                name: "Art Collective",
                icon :"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPeCodR5jln5CQm579ypgtvaJFnfoX0bWZ7A&s",
                notif: 1,
                lastMsg: "New gallery opening next week",
                messages: [
                    { from: "them", text: "Hello artist!", time: "09:18 AM" },
                    { from: "them", text: "New exhibition this Friday.", time: "11:00 AM" }
                ]
            },
            {
                id: 3,
                name: "Sports League",
                icon: "https://www.ekinsport.com/media/amasty/blog/cache/c/o/1056/664/comment-attirer-de-nouveaux-talents-pour-son-club-de-sport-1056.jpg",
                notif: 1,
                lastMsg: "Registration is open",
                messages: [
                    { from: "them", text: "Welcome athlete!", time: "08:44 AM" },
                    { from: "them", text: "Training at 6 PM today.", time: "09:02 AM" }
                ]
            }
        ];

        // Events Data for Filtering
        const allEvents = [
            {
                id: 1,
                title: "Tech Summit 2025",
                club: "Robotics Club",
                date: "2025-10-25",
                time: "2:00 PM - 5:00 PM",
                location: "Main Hall",
                registered: 120,
                status: "upcoming",
                theme: "technology",
                image: "https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=300&h=200&fit=crop",
                description: "Annual technology conference featuring latest innovations"
            },
            {
                id: 2,
                title: "Basketball Tournament",
                club: "Sports Club",
                date: "2025-10-28",
                time: "6:00 PM - 9:00 PM",
                location: "Stadium",
                registered: 85,
                status: "live",
                theme: "sports",
                image: "https://images.unsplash.com/photo-1546519638-68e109498ffc?w=300&h=200&fit=crop",
                description: "Inter-university basketball championship"
            },
            {
                id: 3,
                title: "Hackathon 2025",
                club: "Coding Club",
                date: "2025-11-05",
                time: "9:00 AM - 9:00 PM",
                location: "Lab Complex",
                registered: 95,
                status: "upcoming",
                theme: "technology",
                image: "https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=300&h=200&fit=crop",
                description: "24-hour coding competition"
            }
        ];

        // Mobile menu functionality
        const openMenuBtn = document.getElementById('openMenu');
        const closeMenuBtn = document.getElementById('closeMenu');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileBackdrop = document.getElementById('mobileBackdrop');

        function openMobileMenu() {
            mobileMenu.classList.remove('translate-x-full');
            mobileBackdrop.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeMobileMenu() {
            mobileMenu.classList.add('translate-x-full');
            mobileBackdrop.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        openMenuBtn.addEventListener('click', openMobileMenu);
        closeMenuBtn.addEventListener('click', closeMobileMenu);
        mobileBackdrop.addEventListener('click', closeMobileMenu);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !mobileMenu.classList.contains('translate-x-full')) {
                closeMobileMenu();
            }
        });

        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });

        // Filter Events Function
        function filterEvents() {
            const dateFilter = document.getElementById('dateFilter').value;
            const themeFilter = document.getElementById('themeFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
           
            const today = new Date();
            const currentYear = today.getFullYear();
            const currentMonth = today.getMonth();
            const currentDate = today.getDate();
           
            let filteredEvents = allEvents.filter(event => {
                // Date Filter
                if (dateFilter !== 'all') {
                    const eventDate = new Date(event.date);
                    const eventYear = eventDate.getFullYear();
                    const eventMonth = eventDate.getMonth();
                    const eventDay = eventDate.getDate();
                   
                    if (dateFilter === 'today') {
                        if (eventYear !== currentYear || eventMonth !== currentMonth || eventDay !== currentDate) {
                            return false;
                        }
                    } else if (dateFilter === 'week') {
                        const oneWeekAgo = new Date(today);
                        oneWeekAgo.setDate(today.getDate() + 7);
                        if (eventDate < today || eventDate > oneWeekAgo) {
                            return false;
                        }
                    } else if (dateFilter === 'month') {
                        if (eventYear !== currentYear || eventMonth !== currentMonth) {
                            return false;
                        }
                    }
                }
               
                // Theme Filter
                if (themeFilter !== 'all' && event.theme !== themeFilter) {
                    return false;
                }
               
                // Status Filter
                if (statusFilter !== 'all' && event.status !== statusFilter) {
                    return false;
                }
               
                return true;
            });
           
            // Sort events by date (upcoming first)
            filteredEvents.sort((a, b) => new Date(a.date) - new Date(b.date));
           
            renderEvents(filteredEvents);
        }

        // Render Events Function
        function renderEvents(events) {
            const eventsContainer = document.getElementById('eventsContainer');
           
            if (events.length === 0) {
                eventsContainer.innerHTML = `
                    <div class="bg-white rounded-xl p-8 text-center">
                        <i class="fas fa-calendar-times text-gray-400 text-4xl mb-4"></i>
                        <h3 class="text-lg font-bold text-gray-700 mb-2">No Events Found</h3>
                        <p class="text-gray-500">Try adjusting your filters to see more events.</p>
                    </div>
                `;
                return;
            }
           
            eventsContainer.innerHTML = events.map(event => `
                <div class="bg-white rounded-xl p-4">
                    <div class="flex flex-col md:flex-row gap-4">
                        <img src="${event.image}"
                             alt="${event.title}"
                             class="w-full md:w-64 h-40 object-cover rounded-xl flex-shrink-0">
                        <div class="flex-1 flex flex-col space-y-3">
                            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-2 sm:space-y-0">
                                <div class="flex-1">
                                    <h3 class="text-lg sm:text-xl font-bold text-black mb-2">${event.title}</h3>
                                    <p class="text-gray-600 text-sm mb-3">${event.club}</p>
                                    <div class="flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600">
                                        <span class="flex items-center"><i class="far fa-calendar mr-1.5"></i> ${formatDate(event.date)}</span>
                                        <span class="flex items-center"><i class="fas fa-location-dot mr-1.5"></i> ${event.location}</span>
                                        <span class="flex items-center"><i class="fas fa-user mr-1.5"></i> ${event.registered} registered</span>
                                    </div>
                                </div>
                                <span class="${getStatusBadgeClass(event.status)} px-3 py-1 rounded-full text-xs font-bold self-start">
                                    ${capitalizeFirstLetter(event.status)}
                                </span>
                            </div>
                            <p class="text-sm text-gray-600">${event.description}</p>
                            <div class="flex flex-col sm:flex-row gap-2 sm:gap-3 mt-auto">
                                <button onclick="openModal('${event.title}', this)"
                                        class="bg-[#6F1425] hover:bg-[#5a0f1e] text-white px-6 sm:px-20 rounded-lg font-semibold flex items-center justify-center py-2 text-sm transition-colors min-h-[33px]">
                                    Join event
                                </button>
                                <button onclick="toggleChat()"
                                        class="border-2 border-gray-300 hover:bg-gray-50 px-6 sm:px-8 rounded-lg font-semibold flex items-center justify-center py-2 text-sm transition-colors">
                                    Contact Organizer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Helper Functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                year: 'numeric'
            });
        }

        function getStatusBadgeClass(status) {
            switch(status) {
                case 'live':
                    return 'bg-red-600 text-white';
                case 'upcoming':
                    return 'bg-[#FAE49E] text-black';
                case 'past':
                    return 'bg-gray-300 text-gray-700';
                default:
                    return 'bg-[#FAE49E] text-black';
            }
        }

        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        // Event modal variables
        let currentEventButton = null;
        let currentEventName = '';
        const joinedEvents = new Set();

        function openModal(eventName, button) {
            currentEventButton = button;
            currentEventName = eventName;
           
            const modal = document.getElementById('joinEventModal');
            const eventNameInput = document.getElementById('eventNameInput');
           
            // Set the event name in the hidden field
            eventNameInput.value = eventName;
           
            // Show the modal
            modal.classList.remove('hidden');
           
            // Prevent scrolling on body when modal is open
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('joinEventModal');
           
            // Hide the modal
            modal.classList.add('hidden');
           
            // Restore scrolling on body
            document.body.style.overflow = 'auto';
           
            // Reset the form
            document.getElementById('eventForm').reset();
           
            // Reset current button reference
            currentEventButton = null;
            currentEventName = '';
        }

        function openLiveStream(button) {
            currentEventButton = button;
           
            const modal = document.getElementById('liveStreamModal');
           
            // Show the live stream modal
            modal.classList.remove('hidden');
           
            // Prevent scrolling on body when modal is open
            document.body.style.overflow = 'hidden';
        }

        function closeLiveStream() {
            const modal = document.getElementById('liveStreamModal');
           
            // Hide the modal
            modal.classList.add('hidden');
           
            // Restore scrolling on body
            document.body.style.overflow = 'auto';
           
            // Reset current button reference
            currentEventButton = null;
        }

        function markEventAsJoined(button) {
            // Change button to joined state
            button.classList.remove('bg-[#6F1425]', 'hover:bg-[#5a0f1e]', 'bg-red-600', 'hover:bg-red-700');
            button.classList.add('bg-green-500', 'cursor-not-allowed');
            button.innerHTML = '<i class="fas fa-check-circle mr-2"></i> Event Joined';
            button.disabled = true;
           
            // Store that this event has been joined
            if (currentEventName) {
                joinedEvents.add(currentEventName);
            }
        }

        // Chat Widget Functions
        let activeClub = null;

        function toggleChat() {
            const chatPopup = document.getElementById('chatPopup');
            const chatButton = document.getElementById('chatButton');
           
            if (chatPopup.classList.contains('hidden')) {
                chatPopup.classList.remove('hidden');
                chatButton.style.display = 'none';
                renderClubList();
            } else {
                closeChat();
            }
        }

        function closeChat() {
            const chatPopup = document.getElementById('chatPopup');
            const chatButton = document.getElementById('chatButton');
           
            if (activeClub) {
                backToClubs();
            } else {
                chatPopup.classList.add('hidden');
                chatButton.style.display = 'flex';
            }
        }

        function renderClubList() {
            const clubList = document.getElementById('clubList');
            clubList.innerHTML = '';
           
            clubs.forEach(club => {
                const clubItem = document.createElement('div');
                clubItem.className = 'flex items-center gap-4 p-3 rounded-xl cursor-pointer hover:bg-gray-50 mb-2';
                clubItem.onclick = () => openConversation(club);
               
                clubItem.innerHTML = `
                    <img src="${club.icon}" alt="${club.name}" class="w-12 h-12 rounded-full object-cover">
                    <div class="flex-1">
                        <div class="font-medium text-gray-800">${club.name}</div>
                        <div class="text-xs text-gray-500">${club.lastMsg}</div>
                    </div>
                    <div class="w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center">${club.notif}</div>
                `;
               
                clubList.appendChild(clubItem);
            });
        }

        function openConversation(club) {
            activeClub = club;
            const clubList = document.getElementById('clubList');
            const conversationView = document.getElementById('conversationView');
           
            // Update conversation header
            document.getElementById('conversationAvatar').src = club.icon;
            document.getElementById('conversationName').textContent = club.name;
           
            // Render messages
            renderMessages();
           
            // Switch views
            clubList.classList.add('hidden');
            conversationView.classList.remove('hidden');
        }

        function renderMessages() {
            const messagesContainer = document.getElementById('messagesContainer');
            messagesContainer.innerHTML = '';
           
            activeClub.messages.forEach((msg, i) => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex flex-col ${msg.from === 'me' ? 'items-end' : 'items-start'}`;
                messageDiv.style.animationDelay = `${i * 0.1}s`;
                messageDiv.style.animation = 'fadeInUp 0.35s forwards';
               
                messageDiv.innerHTML = `
                    <div class="max-w-[80%] px-4 py-3 rounded-2xl ${msg.from === 'me' ? 'bg-blue-500 text-white rounded-br-none' : 'bg-gray-100 text-gray-800 rounded-bl-none'}">
                        ${msg.text}
                    </div>
                    <div class="text-xs text-gray-500 mt-1">${msg.time}</div>
                `;
               
                messagesContainer.appendChild(messageDiv);
            });
           
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function backToClubs() {
            activeClub = null;
            const clubList = document.getElementById('clubList');
            const conversationView = document.getElementById('conversationView');
           
            clubList.classList.remove('hidden');
            conversationView.classList.add('hidden');
        }

        function sendMessage() {
            const chatInput = document.getElementById('chatInput');
            const message = chatInput.value.trim();
           
            if (message === '' || !activeClub) return;
           
            // Add message to active club
            activeClub.messages.push({
                from: 'me',
                text: message,
                time: 'Now'
            });
           
            // Update UI
            renderMessages();
           
            // Clear input
            chatInput.value = '';
           
            // Add auto-reply (simulated)
            setTimeout(() => {
                const replies = [
                    "Thanks for your message!",
                    "We'll get back to you soon.",
                    "Great to hear from you!"
                ];
                const randomReply = replies[Math.floor(Math.random() * replies.length)];
               
                activeClub.messages.push({
                    from: 'them',
                    text: randomReply,
                    time: 'Now'
                });
                renderMessages();
            }, 1000);
        }

        function sendLiveChatMessage() {
            const chatInput = document.getElementById('liveChatInput');
            const message = chatInput.value.trim();
           
            if (message) {
                chatInput.value = '';
                console.log('Live chat message sent:', message);
            }
        }

        // Comment functions
        function addComment() {
            const commentInput = document.getElementById('commentInput');
            const commentText = commentInput.value.trim();
           
            if (commentText === '') {
                alert('Please write a comment before sending.');
                return;
            }
           
            const commentsContainer = document.getElementById('commentsContainer');
           
            const commentDiv = document.createElement('div');
            commentDiv.className = 'border-b border-gray-200 py-4';
            commentDiv.style.animation = 'fadeInUp 0.5s ease-out';
           
            const userNames = ['You', 'Current User', 'Anonymous'];
            const randomName = userNames[Math.floor(Math.random() * userNames.length)];
           
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
           
            commentDiv.innerHTML = `
                <div class="flex justify-between items-start mb-2">
                    <h4 class="font-bold text-sm">${randomName}</h4>
                    <span class="text-xs text-gray-400">Just now</span>
                </div>
                <p class="text-sm text-gray-600 mb-2">${commentText}</p>
                <div class="flex items-center gap-4 text-xs text-gray-500">
                    <button class="flex items-center gap-1" onclick="likeComment(this)">
                        <i class="far fa-heart"></i> Like
                    </button>
                    <button onclick="replyToComment(this)">Answer</button>
                </div>
            `;
           
            const firstComment = commentsContainer.firstElementChild;
            if (firstComment) {
                const hr = document.createElement('hr');
                hr.className = 'border-gray-300';
                commentsContainer.insertBefore(hr, firstComment);
                commentsContainer.insertBefore(commentDiv, hr);
            } else {
                commentsContainer.appendChild(commentDiv);
            }
           
            commentInput.value = '';
            commentInput.focus();
        }

        function likeComment(button) {
            const heartIcon = button.querySelector('i');
           
            if (heartIcon.classList.contains('far')) {
                heartIcon.classList.remove('far');
                heartIcon.classList.add('fas');
                heartIcon.style.color = '#EF4444';
            } else {
                heartIcon.classList.remove('fas');
                heartIcon.classList.add('far');
                heartIcon.style.color = '';
            }
        }

        function replyToComment(button) {
            const commentItem = button.closest('.border-b');
            const commentText = commentItem.querySelector('p').textContent;
           
            const username = commentItem.querySelector('h4').textContent;
            const commentInput = document.getElementById('commentInput');
           
            if (!commentInput.value.includes(`@${username}`)) {
                commentInput.value = `@${username} `;
                commentInput.focus();
            }
        }

        // Initialize chat button
        document.getElementById('chatButton').onclick = toggleChat;
       
        // Initialize club list on load
        renderClubList();

        // Handle Enter key in chat input
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Form submission handler
        document.getElementById('eventForm').addEventListener('submit', function(e) {
            e.preventDefault();
           
            const formData = new FormData(this);
            const fullName = formData.get('fullName');
            const email = formData.get('email');
           
            if (!fullName || !email) {
                alert('Please fill in all required fields.');
                return;
            }
           
            if (currentEventButton) {
                markEventAsJoined(currentEventButton);
            }
           
            closeModal();
           
            console.log('Event Registration:', {
                event: currentEventName,
                name: fullName,
                email: email,
                phone: formData.get('phone'),
                organization: formData.get('organization'),
                reason: formData.get('reason'),
                updates: formData.get('updates') === 'on'
            });
        });

        // Close modal when clicking outside
        document.getElementById('joinEventModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.getElementById('liveStreamModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLiveStream();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (!document.getElementById('joinEventModal').classList.contains('hidden')) {
                    closeModal();
                }
                if (!document.getElementById('liveStreamModal').classList.contains('hidden')) {
                    closeLiveStream();
                }
            }
        });

        // Initialize events on page load
        document.addEventListener('DOMContentLoaded', function() {
            renderEvents(allEvents);
        });
    </script>
</body>
</html>